<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Ana Beatriz Silva">
    <title>VestLivros - @ViewData["Title"]</title>

    <!-- Favicons -->
    <link rel="icon" href="~/img/logo.png" type="image/png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/css/site.css" rel="stylesheet">
    <link href="~/css/admin.css" rel="stylesheet">
    <style>
        .nav-item.link-animado {
            position: relative;
            overflow: hidden;
        }

        .nav-item.link-animado::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background-color: #323659;
            /* mesma cor do bg-dark */
            border-top-right-radius: 30px;
            border-bottom-right-radius: 30px;
            transition: left 0.6s cubic-bezier(0.77, 0, 0.175, 1);
            /* mais suave */
            z-index: 0;
        }

        /* Quando o item estiver ativo */
        .nav-item.active.link-animado::before,
        .nav-item.bg-dark.link-animado::before {
            left: 0;
        }

        /* Mantém o texto acima da animação */
        .nav-item.link-animado a {
            position: relative;
            z-index: 1;
            transition: color 0.6s cubic-bezier(0.77, 0, 0.175, 1);
        }

        /* Quando ativo, o texto fica branco */
        .nav-item.active.link-animado a,
        .nav-item.bg-dark.link-animado a {
            color: #e7ba80 !important;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-sm navbar-toggleable-sm border-bottom box-shadow mb-3">
        <a class="container-fluid" asp-action="Index" asp-controller="Admin">
            <img src="~/img/Vest Livros.png" alt="VestLivros" class="logo">
        </a>
        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse"
            data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <partial name="_LoginPartial"></partial>

    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="sidebar-sticky pt-4">
                    <ul class="nav flex-column pe-2">
                        <li
                            class='link-animado nav-item py-1 @(ViewData["Title"] == "Área Administrativa" ? "bg-dark rounded-end-5" : "")'>
                            <a class='texto nav-link fs-6 @(ViewData["Title"] == "Área Administrativa" ? "text-white" : "")'
                                asp-action="Index" asp-controller="Admin">
                                <i class="bi bi-house-fill fs-5"></i> Home
                            </a>
                        </li>
                        <li class='link-animado nav-item py-1 @(ViewData["Title"] == "Livro" ? "bg-dark rounded-end-5" : "")'>
                            <a class='texto nav-link fs-6 @(ViewData["Title"] == "Livro" ? "text-white" : "")'
                                asp-action="Index" asp-controller="Livros">
                                <i class="bi bi-book-half fs-5"></i>
                                Livros
                            </a>
                        </li>
                        <li class='link-animado nav-item py-1 @(ViewData["Title"] == "Faculdade" ? "bg-dark rounded-end-5" : "")'>
                            <a class='texto nav-link fs-6 @(ViewData["Title"] == "Faculdade" ? "text-white" : "")'
                                asp-action="Index" asp-controller="Faculdades">
                                <i class="bi bi-mortarboard fs-5"></i>
                                Faculdades
                            </a>
                        </li>
                        <li class='link-animado nav-item py-1 @(ViewData["Title"] == "Vestibular" ? "bg-dark rounded-end-5" : "")'>
                            <a class='texto nav-link fs-6 @(ViewData["Title"] == "Vestibular" ? "text-white" : "")'
                                asp-action="Index" asp-controller="Vestibular">
                                <i class="bi bi-calendar-plus fs-5"></i>
                                Anos
                            </a>
                        </li>

                    </ul>
                </div>
            </nav>

            <main role="main" class="col-md-9 ms-sm-auto col-lg-10 px-md-4 pt-3">
                @RenderBody()
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const currentPath = window.location.pathname.toLowerCase();
            const navLinks = document.querySelectorAll('.sidebar .nav-item a');

            navLinks.forEach(link => {
                const href = link.getAttribute('href')?.toLowerCase() || '';
                link.parentElement.classList.remove('bg-dark', 'rounded-end-5', 'active');
                link.classList.remove('text-white');

                if (currentPath.includes(href) && href !== "/") {
                    link.parentElement.classList.add('bg-dark', 'rounded-end-5', 'active');
                    link.classList.add('text-white');
                }

                // Efeito de clique suave
                link.addEventListener('click', function () {
                    navLinks.forEach(l => l.parentElement.classList.remove('active'));
                    this.parentElement.classList.add('active');
                });
            });
        });
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>